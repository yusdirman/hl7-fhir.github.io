{
  "resourceType": "StructureDefinition",
  "id": "Prostate",
  "text": {
    "status": "generated",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\">to do</div>"
  },
  "url": "http://hl7.org/fhir/StructureDefinition/Prostate",
  "name": "Prostate",
  "display": "nehta-prostate-radical",
  "status": "draft",
  "publisher": "Health Level Seven International fhir",
  "contact": [
    {
      "telecom": [
        {
          "system": "other",
          "value": "http://hl7.org/fhir"
        }
      ]
    }
  ],
  "date": "2016-06-06T20:14:04+00:00",
  "description": "Logical Model: Prostate cancer.",
  "fhirVersion": "1.4.0",
  "mapping": [
    {
      "identity": "logical",
      "uri": "http://hl7.org/fhir/logical",
      "name": "Logical Mapping"
    },
    {
      "identity": "cap",
      "uri": "http://cap.org/ecc",
      "name": "CAP Code"
    },
    {
      "identity": "v2",
      "uri": "http://hl7.org/v2",
      "name": "HL7 v2"
    },
    {
      "identity": "rim",
      "uri": "http://hl7.org/v3",
      "name": "RIM"
    }
  ],
  "kind": "logical",
  "abstract": false,
  "snapshot": {
    "element": [
      {
        "path": "Prostate",
        "short": "Prostate",
        "definition": "Prostate cancer.",
        "min": 0,
        "max": "*",
        "mapping": [
          {
            "identity": "logical",
            "map": "dr := DiagnosticReport"
          },
          {
            "identity": "cap",
            "map": "28992.1000043"
          }
        ]
      },
      {
        "path": "Prostate.subject",
        "short": "The subject of the report, usually, but not always, the patient",
        "definition": "The subject of the report. Usually, but not always, this is a patient. However diagnostic services also perform analyses on specimens collected from a variety of other sources.",
        "alias": [
          "Patient"
        ],
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/Patient"
            ]
          },
          {
            "code": "Reference",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/Group"
            ]
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "logical",
            "map": "dr.subject"
          },
          {
            "identity": "v2",
            "map": "PID-3-Patient ID List (no V2 mapping for Group or Device)"
          },
          {
            "identity": "rim",
            "map": "participation[typeCode=SBJ]"
          }
        ]
      },
      {
        "path": "Prostate.requester",
        "short": "Who ordered the test",
        "definition": "The practitioner that holds legal responsibility for ordering the investigation.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/Practitioner"
            ]
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "logical",
            "map": "!req := dr.request->DiagnosticOrder; req[orderer := $value]"
          },
          {
            "identity": "rim",
            "map": "participation[typeCode=AUT].role"
          }
        ]
      },
      {
        "path": "Prostate.performer",
        "short": "Responsible Diagnostic Service",
        "definition": "The diagnostic service that is responsible for issuing the report.",
        "comments": "This is not necessarily the source of the atomic data items - it is the entity that takes responsibility for the clinical report.",
        "requirements": "Need to know whom to contact if there are queries about the results. Also may need to track the source of reports for secondary data analysis.",
        "alias": [
          "Laboratory",
          "Service",
          "Practitioner",
          "Department",
          "Company"
        ],
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/Practitioner"
            ]
          },
          {
            "code": "Reference",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/Organization"
            ]
          }
        ],
        "isSummary": true,
        "mapping": [
          {
            "identity": "logical",
            "map": "dr[performer := $value]"
          },
          {
            "identity": "v2",
            "map": "PRT-8-Participation Organization (where this PRT-4-Participation = \"PO\")"
          },
          {
            "identity": "rim",
            "map": "participation[typeCode=AUT].role[classCode=ASSIGN].scoper"
          }
        ]
      },
      {
        "path": "Prostate.preAnalytic",
        "short": "Pre Analytic",
        "definition": "Pre Analytic component - information collection prior to specimen receipt at laboratory.",
        "comments": "This is just a group/section header and is not a result field.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Element"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "req := dr.request->DiagnosticOrder; req[orderer := $value]"
          },
          {
            "identity": "cap",
            "map": "28592.1000043"
          }
        ]
      },
      {
        "path": "Prostate.preAnalytic.clinicalInformation",
        "short": "Clinical information",
        "definition": "Clinical information provided on request form.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "req.reason[text := $value]"
          },
          {
            "identity": "cap",
            "map": "28589.1000043"
          }
        ]
      },
      {
        "path": "Prostate.preAnalytic.surgicalProcedure",
        "short": "Surgical Procedure",
        "definition": "Surgical Procedure.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "sp.text"
          },
          {
            "identity": "cap",
            "map": "28993.1000043"
          }
        ]
      },
      {
        "path": "Prostate.preAnalytic.natureOfSpecimen",
        "short": "Nature of specimen",
        "definition": "Nature of the specimen.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "sp := dr.specimen->Specimen; sp[type := $value]"
          },
          {
            "identity": "cap",
            "map": "28994.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueString": "Core biopsy Gleason score: 3+3=6"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueString": "Core biopsy Gleason score: 3+4=7"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueString": "Core biopsy Gleason score: 3+3=6"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueString": "Core biopsy Gleason score: 4+5=9"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueString": "Core biopsy Gleason score: 3+4=7"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.preAnalytic.clinicalHistory",
        "short": "Clinical history",
        "definition": "Clinical history (including\nGleason grade and score of\nprevious specimens).",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "req.reason[text := $value]"
          },
          {
            "identity": "cap",
            "map": "28995.1000043"
          }
        ]
      },
      {
        "path": "Prostate.preAnalytic.previousTherapy",
        "short": "Previous therapy",
        "definition": "Previous therapy.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "req.supportingInformation -> Observation[code := %map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "29002.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 6,
                  "unit": ".3ug/L"
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 5,
                  "unit": ".0ug/L"
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 5,
                  "unit": ".9ug/L"
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 10,
                  "unit": "ng/mL"
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 5,
                  "unit": ".5ug/L"
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.preAnalytic.psa",
        "short": "Pre-biopsy serum PSA",
        "definition": "Pre-biopsy serum Prostate Specific Antigen (PSA).",
        "requirements": "Units in ng/|mL.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Quantity",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/SimpleQuantity"
            ]
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "dr.result[text := $value]"
          },
          {
            "identity": "cap",
            "map": "29003.1000043"
          }
        ]
      },
      {
        "path": "Prostate.preAnalytic.stagingInfo",
        "short": "Relevant clinical information for\nclinicopathological staging",
        "definition": "Relevant clinical information for\nclinicopathological staging.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "si.text"
          },
          {
            "identity": "cap",
            "map": "29006.1000043"
          }
        ]
      },
      {
        "path": "Prostate.preAnalytic.pathologyAccessionNumber",
        "short": "Pathology number",
        "definition": "Pathology accession number.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "dr[identifier := $value]"
          },
          {
            "identity": "cap",
            "map": "29013.1000043"
          }
        ]
      },
      {
        "path": "Prostate.preAnalytic.principalClinician",
        "short": "Principal clinician",
        "definition": "Principal clinician.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "Practitioner.name[text := $value]"
          },
          {
            "identity": "cap",
            "map": "29014.1000043"
          }
        ]
      },
      {
        "path": "Prostate.preAnalytic.comments",
        "short": "Comments",
        "definition": "Comments.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "req.note[text := $value]"
          },
          {
            "identity": "cap",
            "map": "29015.1000043"
          }
        ]
      },
      {
        "path": "Prostate.macro",
        "short": "Macroscopy",
        "definition": "Macroscopic findings.",
        "comments": "This is just a group/section header and is not a result field.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Element"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "macro := dr.result->Observation[code := %map-codes]"
          },
          {
            "identity": "cap",
            "map": "28858.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 39,
                  "unit": ".5g"
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 33,
                  "unit": ".8g"
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 60,
                  "unit": "g"
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 35,
                  "unit": "g"
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 32,
                  "unit": ".9g"
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.macro.specimenWeight",
        "short": "Specimen weight",
        "definition": "Specimen weight (ie Prostate\nwithout seminal vesicles).",
        "requirements": "measurement in g.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Quantity",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/SimpleQuantity"
            ]
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "sp1 := dr.specimen->Specimen; sp1.collection[quantity := $value]"
          },
          {
            "identity": "cap",
            "map": "28865.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueString": "42x37x32mm"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueString": "46x35x34mm"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueString": "51x47x42mm"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueString": "45x35x27mm"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueString": "39x31x35mm"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.macro.specimenDimensions",
        "short": "Specimen dimensions",
        "definition": "Specimen dimensions (prostate).",
        "requirements": "measured: __ x __ x __ mm.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "macro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "29016.1000043"
          }
        ]
      },
      {
        "path": "Prostate.macro.seminalVesicles",
        "short": "Seminal vesicles",
        "definition": "Seminal Vesicles.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "code"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code that idicates the presence (partially or completely resected) or absence of seminal vesicles",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-present-absent-na"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "macro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28513.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueCode": "Not applicable"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueCode": "Not applicable"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueCode": "Not involved"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.macro.lymphNodes",
        "short": "Lymph nodes",
        "definition": "If lymph nodes are received, then they should be recorded.",
        "requirements": "Conditional:\nIf received, record the number of nodes.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Element"
          }
        ],
        "condition": [
          "inv-01",
          "inv-09"
        ],
        "constraint": [
          {
            "key": "inv-09",
            "severity": "error",
            "human": "If lymph nodes are present record S3.07 lymph node status.",
            "xpath": "not(@value = 'present') or exists(f:Prostate.micro.lymphNodeStatus.number)"
          },
          {
            "key": "inv-01",
            "severity": "error",
            "human": "If lymph nodes are present consider recording G2.20 (laterality & site(s) and numbers of lymph nodes)",
            "xpath": "not(@value = 'present') or exists(f:lymphNodes.laterality)"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code that indicates if lymph nodes were present or absent",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-present-absent-na"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "macro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28866.1000043"
          }
        ]
      },
      {
        "path": "Prostate.macro.lymphNodes.laterality",
        "short": "Lymph nodes",
        "definition": "If lymph nodes are received, then they should be recorded.",
        "requirements": "Conditional:\nIf received, record the number of nodes.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "code"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code that indicates the laterality of lymph nodes",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-laterality"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "macro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "29023.1000043"
          }
        ]
      },
      {
        "path": "Prostate.macro.lymphNodes.siteAndNoLymphNodes",
        "short": "Site(s) and numbers of lymph\nnodes",
        "definition": "Site(s) and numbers of lymph\nnodes.",
        "requirements": "Note that the site and number of LNs for that site may need to be repeated for each site received.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "macro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "29029.1000043"
          }
        ]
      },
      {
        "path": "Prostate.macro.blockIdentificationKey",
        "short": "Block identification key",
        "definition": "Block identification key.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "macro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "29031.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueString": "Volume: 2.7cm3 (3D volume estimate method)."
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueString": "Volume: 1.0cm3 (3D volume estimate method)."
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueString": "Volume: 0.6cm3 (3D volume estimate method)."
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueString": "Volume: 3.3cm3 (3D volume estimate method)."
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueString": "Volume: 1.7cm3 (3D volume estimate method)."
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.macro.otherMacroComments",
        "short": "Other macroscopic comments",
        "definition": "A descriptive or narrative field should be provided to record any macroscopic information that is not recorded in the above standards and guidelines, and that would normally form part of the macroscopic description.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "macro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "29032.1000043"
          }
        ]
      },
      {
        "path": "Prostate.micro",
        "short": "Microscopy",
        "definition": "Microscopy of the sample.",
        "comments": "This is just a group/section header and is not a result field.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Element"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro := dr.result->Observation[code := %map-codes]"
          },
          {
            "identity": "cap",
            "map": "28869.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueCode": "Adenocarcinoma, NOS, acinar"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueCode": "Adenocarcinoma, NOS, acinar"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueCode": "Adenocarcinoma, NOS, acinar"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueCode": "Adenocarcinoma, acinar and ductal type"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueCode": "Adenocarcinoma, NOS, acinar"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.micro.tumourType",
        "short": "Tumour type",
        "definition": "Tumour type.",
        "min": 1,
        "max": "*",
        "type": [
          {
            "code": "Element"
          }
        ],
        "condition": [
          "inv-02",
          "inv-03"
        ],
        "constraint": [
          {
            "key": "inv-03",
            "severity": "error",
            "human": "If the histological tumour type is Adenocarcinoma (Acinar variant eg foamy, pseudohyperplastic), then record the variant.",
            "xpath": "not(@value = 'acinar_variant') or exists(f:tumourType.acinarVariant)"
          },
          {
            "key": "inv-02",
            "severity": "error",
            "human": "If the histological tumour type is other, then record the other type.",
            "xpath": "not(@value = 'other') or exists(f:tumourType.other)"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code for tumout type from a multi selection value list  (select all that apply)",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-prostate-rad-tumour-type"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28870.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueString": "Tumour extent: Multifocal"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueString": "Tumour extent: Unifocal"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueString": "Tumour extent: Multifocal"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueString": "Tumour extent: Multifocal"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueString": "Tumour extent: Multifocal"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.micro.tumourType.other",
        "short": "Other tumour type",
        "definition": "Other tumour type.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "Field wasn't in protocol but should have been!!"
          }
        ]
      },
      {
        "path": "Prostate.micro.tumourType.acinarVariant",
        "short": "Acinar variant",
        "definition": "Acinar variant.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "???"
          }
        ]
      },
      {
        "path": "Prostate.micro.tumourLocation",
        "short": "Tumour location",
        "definition": "Tumour location.",
        "comments": "This is just a group/section header and is not a result field.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Element"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro := BodySite[code := $value]"
          },
          {
            "identity": "cap",
            "map": "28271.1000043"
          }
        ]
      },
      {
        "path": "Prostate.micro.tumourLocation.quadrant",
        "short": "Largest nodule located by\nquadrant",
        "definition": "Largest nodule located by\nquadrant.",
        "requirements": "Single selection value list.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "code"
          }
        ],
        "condition": [
          "inv-04"
        ],
        "binding": {
          "strength": "required",
          "description": "A code from a single selection value list for the largest nodule located by quadrant",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-nodule-location"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28272.1000043"
          }
        ]
      },
      {
        "path": "Prostate.micro.tumourLocation.plane",
        "short": "Largest nodule located by\nquadrant",
        "definition": "Largest nodule located by\nquadrant.",
        "requirements": "Single selection value list.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "code"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code from a single selection value list for the largest nodule located by plane",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-prostate-rad-nodule-plane"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28469.1000043"
          }
        ]
      },
      {
        "path": "Prostate.micro.tumourLocation.otherNodules",
        "short": "Other nodules >10mm in\ndiameter",
        "definition": "Other nodules >10mm in\ndiameter.",
        "comments": "If present, record the locations in quadrant and plane.",
        "requirements": "Single selection value list.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Element"
          }
        ],
        "constraint": [
          {
            "key": "inv-04",
            "severity": "error",
            "human": "If there are other nodules >10mm in diameter then record the locations in quadrant and plane.",
            "xpath": "not(@value = 'present') or  (exists(f:describe) or exists(f:plane))"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code from a single selection value list to indicate other nodules >10mm in diameter",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-none-identified-present"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          }
        ]
      },
      {
        "path": "Prostate.micro.tumourLocation.otherNodules.quadrant",
        "short": "Other nodules - locations by quadrant",
        "definition": "Other nodules - locations by quadrant.",
        "requirements": "Multi selection value list.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "code"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code from a multi selection value list (select all that apply) to indicate other nodule locations by quadrant",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-nodule-location"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28487.1000043"
          }
        ]
      },
      {
        "path": "Prostate.micro.tumourLocation.otherNodules.plane",
        "short": "Other nodules - locations by plane",
        "definition": "Other nodules - locations by plane.",
        "requirements": "Multi selection value list.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "code"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code from a multi selection value list (select all that apply) to indicate other nodule locations by plane",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-prostate-rad-nodule-plane"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28497.1000043"
          }
        ]
      },
      {
        "path": "Prostate.micro.intraglandularExtent",
        "short": "Intraglandular extent",
        "definition": "Intraglandular extent.",
        "requirements": "Numeric:  __%.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Quantity",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/SimpleQuantity"
            ]
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28906.1000043"
          }
        ]
      },
      {
        "path": "Prostate.micro.sizeDominantNodule",
        "short": "Maximum size of dominant nodule",
        "definition": "Maximum size of dominant\nnodule.",
        "requirements": "Numeric:  __mm.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Quantity",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/SimpleQuantity"
            ]
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28908.1000043"
          }
        ]
      },
      {
        "path": "Prostate.micro.histologicalGrade",
        "short": "Histological grade",
        "definition": "Histological grade.",
        "comments": "This is just a group/section header and is not a result field.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Element"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28880.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 3
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 3
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 3
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 4
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 3
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.micro.histologicalGrade.primary",
        "short": "Primary Gleason grade",
        "definition": "Primary Gleason grade.",
        "requirements": "Numeric: ___ (1-5).",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Quantity",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/SimpleQuantity"
            ]
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28503.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 4
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 4
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 4
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 5
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 4
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.micro.histologicalGrade.secondary",
        "short": "Secondary Gleason grade",
        "definition": "Secondary Gleason grade.",
        "requirements": "Numeric: ___ (1-5).",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Quantity",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/SimpleQuantity"
            ]
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28504.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "unit": "-"
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "unit": "-"
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "unit": "-"
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 3
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "unit": "-"
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.micro.histologicalGrade.tertiary",
        "short": "Tertiary Gleason grade",
        "definition": "Tertiary Gleason grade.",
        "requirements": "Numeric: ___ (3-5) or Not applicable.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Quantity",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/SimpleQuantity"
            ]
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28505.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueString": "Composite Gleason Score (ISUP) 2005): 3+4=7\nIndex carcinoma score (ISUP 2005): 4+3=7\n% High Grade (4/5): 40% (composite), 65% index.\nIntraduct carcinoma: Absent."
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueString": "Composite Gleason Score (ISUP) 2005): 3+4=7\nIndex carcinoma score (ISUP 2005): 3+4=7\n% High Grade (4/5): 10% \nIntraduct carcinoma: Absent."
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueString": "Composite Gleason Score (ISUP) 2005): 3+4=7\nIndex carcinoma score (ISUP 2005): 3+4=7\n% High Grade (4/5): 5%.\nIntraduct carcinoma: Absent."
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueString": "Composite Gleason Score (ISUP) 2005): 4+5=9\nIndex carcinoma score (ISUP 2005): 4+5=9\n% High Grade (4/5): 90%.\nIntraduct carcinoma: Absent."
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueString": "Composite Gleason Score (ISUP) 2005): 3+4=7\nIndex carcinoma score (ISUP 2005): 3+4=7\n% High Grade (4/5): 20%.\nIntraduct carcinoma: Absent."
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.micro.histologicalGrade.score",
        "short": "Gleason score",
        "definition": "Gleason score.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28903.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueCode": "Negative"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueCode": "Negative"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueCode": "Negative"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueCode": "Present"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueCode": "Negative"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.micro.extraprostaticExtension",
        "short": "Extraprostatic extension",
        "definition": "Extraprostatic extension.",
        "comments": "If present, record S3.04 extent.\nIf present, consider recording\nG3.04.",
        "requirements": "Single selection value list.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Element"
          }
        ],
        "condition": [
          "inv-05"
        ],
        "constraint": [
          {
            "key": "inv-05",
            "severity": "error",
            "human": "If an extraprostatic extension is present, then record the extent and consider recording the locations(s) of the EPE.",
            "xpath": "not(@value = 'present') or exists(f:extraprostaticExtension.extent)"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code from a single selection value list for the extraprostatic extension",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-notidentified-present-indeterminate"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueCode": "Focal"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.micro.extraprostaticExtension.extent",
        "short": "Extraprostatic extension - extent",
        "definition": "Extraprostatic extension - extent.",
        "comments": "If present, record S3.04 extent.\nIf present, consider recording\nG3.04.",
        "requirements": "Single selection value list.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "code"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code from a single selection value list for the extraprostatic extension extent",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-focal-non-focal"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28911.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueCode": "Posterior slices 5, and base"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.micro.extraprostaticExtension.locations",
        "short": "Extraprostatic extension - location(s)",
        "definition": "Extraprostatic extension - locations of EPE.",
        "comments": "If other, specify the other\nlocation.",
        "requirements": "Single selection value list.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Element"
          }
        ],
        "condition": [
          "inv-06"
        ],
        "constraint": [
          {
            "key": "inv-06",
            "severity": "error",
            "human": "If the location of the extraprostatic extension is other, then record the record the other  locations(s) of the EPE.",
            "xpath": "not(@value = 'other') or exists(f:locations.other)"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code from a multi select value list (select all that apply) for the location(s) of EPE",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-prostate-rad-tumour-locations"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28566.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueString": "Measurement (radial): 0.4mm"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.micro.extraprostaticExtension.locations.other",
        "short": "Extraprostatic extension - other location",
        "definition": "Extraprostatic extension - other location.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueCode": "Negative"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueCode": "Negative"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueCode": "Negative"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueCode": "Negative"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueCode": "Negative"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.micro.marginStatus",
        "short": "Margin status",
        "definition": "Margin status.",
        "requirements": "Single selection value list:.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Element"
          }
        ],
        "condition": [
          "inv-07"
        ],
        "binding": {
          "strength": "required",
          "description": "A code from a single selection value to indicate the involvement of the margin status",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-involved-notinvolved-indeterminate"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28929.1000043"
          }
        ]
      },
      {
        "path": "Prostate.micro.marginStatus.location",
        "short": "Involved margin location",
        "definition": "Involved margin location.",
        "requirements": "Multi select value list (select all that apply):.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Element"
          }
        ],
        "constraint": [
          {
            "key": "inv-07",
            "severity": "error",
            "human": "If the margin status is involved, the record the location(s) and optionally the extent; the Gleason score at the margin and the type of positivity.",
            "xpath": "not(@value = 'involved') or exists(f:location.other)"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code from a multi select value list (select all that apply) for location(s) on the invovled margins",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-prostate-rad-tumour-locations"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28936.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueString": "Tumour location:\nQuadrants: Anterior left greater than right plus posterior right and left.\nZones: Transitional, peripheral and anterior fibromuscular."
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueString": "Tumour location:\nQuadrants: Left posterior\nZones:Peripheral"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueString": "Tumour location:  Left lobe greater than right, posterior greater than anterior\nQuadrants: All four quadrants involved\nZones:Peripheral"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueString": "Tumour location:  \nQuadrants: All four\nZones:Peripheral, base and apex"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueString": "Tumour location:  \nQuadrants: Right posterolateral greater than left\nZones:Peripheral"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.micro.marginStatus.location.other",
        "short": "Margin status - other location",
        "definition": "Margin status - other location.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          }
        ]
      },
      {
        "path": "Prostate.micro.marginStatus.extent",
        "short": "Involved margin extent",
        "definition": "Involved margin extent.",
        "comments": "Conditional on margin\ninvolvement.",
        "requirements": "Numeric: ___mm\nNotes:\nIf more than 1 positive margin, record the\ncummulative length.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Quantity",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/SimpleQuantity"
            ]
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28511.1000043"
          }
        ]
      },
      {
        "path": "Prostate.micro.marginStatus.score",
        "short": "Gleason score at margin",
        "definition": "Gleason score at margin.",
        "comments": "Conditional on margin\ninvolvement.",
        "requirements": "Numeric: __\nNotes:\nIf more than 1 positive margin, record the\nhighest score.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Quantity",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/SimpleQuantity"
            ]
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28516.1000043"
          }
        ]
      },
      {
        "path": "Prostate.micro.marginStatus.positivity",
        "short": "Type of margin positivity",
        "definition": "Type of margin positivity.",
        "comments": "Conditional on margin\ninvolvement.",
        "requirements": "Multi select value list (select all that apply):.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "code"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code from a multi select value list (select all that apply) for the type of margin positivity",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-prostate-rad-margin-positivity"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28520.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueCode": "Not involved"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueCode": "Not involved"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueCode": "Not involved"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueCode": "Not involved"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueCode": "Not involved"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.micro.seminalVesicles",
        "short": "Seminal vesicles",
        "definition": "Seminal vesicles.",
        "comments": "If involved, record side.",
        "requirements": "Single selection value list:.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Element"
          }
        ],
        "condition": [
          "inv-08"
        ],
        "constraint": [
          {
            "key": "inv-08",
            "severity": "error",
            "human": "If the seminal vesicles are involved, then record the side.",
            "xpath": "not(@value = 'involved') or exists(f:seminalVesicles.side)"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code from a single selection value to indicate the involvement of the seminal vesicles",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-involved-notinvolved-na"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28920.1000043"
          }
        ]
      },
      {
        "path": "Prostate.micro.seminalVesicles.side",
        "short": "Seminal vesicles - side",
        "definition": "Seminal vesicles - side.",
        "requirements": "Single selection value list:.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "code"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code from a single selection value to indicate the side of the seminal vesicles",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-laterality"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28922.1000043"
          }
        ]
      },
      {
        "path": "Prostate.micro.bladderNeck",
        "short": "Bladder neck",
        "definition": "Bladder neck.",
        "requirements": "Single selection value list:.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "code"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code from a single selection value to indicate the involvement of the bladder neck",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-involved-notinvolved-na"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28975.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueString": "Not involved"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueString": "Not involved"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.micro.lymphNodeStatus",
        "short": "Lymph node status",
        "definition": "Lymph node status.",
        "comments": "This is just a group/section header and is not a result field\nThis is conditional on receipt of LNs in S2.03.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Element"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28965.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 1
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 5
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 7
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.micro.lymphNodeStatus.number",
        "short": "Number of lymph nodes\nexamined",
        "definition": "Number of lymph nodes\nexamined.",
        "requirements": "Numeric: __.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Quantity",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/SimpleQuantity"
            ]
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28968.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 0
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 0
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueQuantity": {
                  "value": 0
                }
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.micro.lymphNodeStatus.numberPositive",
        "short": "Number of positive lymph\nnodes",
        "definition": "Number of positive lymph\nnodes.",
        "comments": "If >0 consider recording G3.09 and G3.10.",
        "requirements": "Numeric: __.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Quantity",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/SimpleQuantity"
            ]
          }
        ],
        "condition": [
          "inv-10"
        ],
        "constraint": [
          {
            "key": "inv-10",
            "severity": "error",
            "human": "If there are positive lymph nodes consider recording G3.09 laterality and G3.10 maximum dimension of largest deposit.",
            "xpath": "not(@value) or (exists(f:laterality)  or exists (f:maxDimension))"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28970.1000043"
          }
        ]
      },
      {
        "path": "Prostate.micro.lymphNodeStatus.laterality",
        "short": "Lymph node laterality",
        "definition": "The laterality of any lymph node involvement should be recorded.",
        "comments": "Consider recording the site(s) of involved nodes.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "code"
          }
        ],
        "condition": [
          "inv-11"
        ],
        "constraint": [
          {
            "key": "inv-11",
            "severity": "error",
            "human": "If there are positive lymph nodes with indicated laterality consider recording the site(s) of the involved nodes.",
            "xpath": "not(@value) or exists(f:laterality)"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code that indicates the laterality of lymph nodes",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-laterality"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28520.1000043"
          }
        ]
      },
      {
        "path": "Prostate.micro.lymphNodeStatus.sitesInvolved",
        "short": "Site(s) of involved nodes",
        "definition": "Site(s) of involved nodes.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28524.1000043"
          }
        ]
      },
      {
        "path": "Prostate.micro.lymphNodeStatus.maxDimension",
        "short": "Maximum dimension of largest deposit",
        "definition": "The maximum dimension of the largest lymph node deposit may be\nrecorded.",
        "requirements": "Numeric: __.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Quantity",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/SimpleQuantity"
            ]
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28975.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueCode": "Absent"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueCode": "Absent"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueCode": "Absent"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueCode": "Absent"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueCode": "Absent"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.micro.lymphNodeStatus.invasion",
        "short": "Lymphovascular invasion",
        "definition": "Lymphovascular invasion should be recorded.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "code"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code from a single selection value to indicate the extent of lymphovascular invasion",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-notidentified-present-indeterminate"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28946.1000043"
          }
        ]
      },
      {
        "path": "Prostate.micro.addtionalComment",
        "short": "Additional microscopic comment",
        "definition": "Additional microscopic comment.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "micro.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28526.1000043"
          }
        ]
      },
      {
        "path": "Prostate.synthesisOverview",
        "short": "Synthesis and Overview",
        "definition": "Synthesis and Overview are to be recorded.",
        "comments": "This is just a group/section header and is not a result field.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Element"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "synthesis := dr.result->Observation[code := %map-codes]"
          },
          {
            "identity": "cap",
            "map": "28527.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueString": "pT2"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueString": "pT2"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueString": "pT2"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueString": "pT3A"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueString": "pT2"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.synthesisOverview.tumourStage",
        "short": "Tumour stage",
        "definition": "Tumour stage is to be recorded.",
        "comments": "This is just a sub-group/sub-section header and is not a result field.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Element"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "synthesis.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28525.1000043"
          }
        ]
      },
      {
        "path": "Prostate.synthesisOverview.tumourStage.t",
        "short": "Primary tumour (T)",
        "definition": "Primary Tumour stage T is to be recorded.",
        "comments": "Notes:\n1. Invasion into the prostate apex or into\n(but not beyond) the prostate capsule is\nnot classified as T3, but as T2.\n* There is no pathologic T1 classification for\nradical prostatectomy specimens\n** Positive surgical margin should be\nindicated by an R1 descriptor (residual\nmicroscopic disease).",
        "requirements": "Single selection value list.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "code"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code that records primary tumour stage T",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-prostate-rad-tumour-stage-t"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "synthesis.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28950.1000043"
          }
        ]
      },
      {
        "path": "Prostate.synthesisOverview.tumourStage.n",
        "short": "Regional lymph nodes (N)",
        "definition": "Regional lymph nodes (N) is to be recorded.",
        "requirements": "Single selection value list.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "code"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code that records regional lymph nodes stage N",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-prostate-rad-tumour-stage-n"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "synthesis.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28961.1000043"
          }
        ]
      },
      {
        "path": "Prostate.synthesisOverview.tumourStage.m",
        "short": "Distant metastasis (M)",
        "definition": "Distant metastasis (M) is to be recorded.",
        "requirements": "Single selection value list.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "code"
          }
        ],
        "binding": {
          "strength": "required",
          "description": "A code that records distant metastasis stage M",
          "valueSetReference": {
            "reference": "http://hl7.org/fhir/ValueSet/nehta-nehta-prostate-rad-tumour-stage-m"
          }
        },
        "mapping": [
          {
            "identity": "logical",
            "map": "synthesis.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28976.1000043"
          }
        ]
      },
      {
        "path": "Prostate.synthesisOverview.tumourStage.stagingSystemDetails",
        "short": "Year and/or edition of staging system",
        "definition": "Year and/or edition of staging system is to be recorded.",
        "requirements": "Numeric: year\nAND/OR\nText: Edition eg 1st, 2nd etc.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "synthesis.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "1"
              },
              {
                "url": "exValue",
                "valueString": "Adenocarcinoma"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "2"
              },
              {
                "url": "exValue",
                "valueString": "Adenocarcinoma"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "3"
              },
              {
                "url": "exValue",
                "valueString": "1. Radical prostatectomy: Prostatic adenocarcinoma\n2. Left pelvic lymph node: Fibradipose tissue only\n3. Right pelvic lymph node: No evidence of malignancy\n4. Periprostatic tissue: No evidence of malignancy\n5. Left apical margin: No evidence of mailgnancy\n6. Left lateral margin: No evidence of malignancy"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueString": "1. Radical prostatectomy: Adenocarcinoma\n2. Right pelvic lymph nodes: No evidence of malignancu (0/4)\n3. Periprostatic fat: No evidence of malignancy"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          },
          {
            "extension": [
              {
                "url": "index",
                "valueString": "6"
              },
              {
                "url": "exValue",
                "valueString": "Prostate: Adenocarcinoma"
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.synthesisOverview.diagnosticSummary",
        "short": "Diagnostic summary",
        "definition": "Diagnostic summary is to be recorded.",
        "requirements": "Include:\na. specimen type\nb. tumour site\nc. Gleason score\nd. tumour stage\ne. whether or not the specimen margins are involved.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "synthesis.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28533.1000043"
          }
        ]
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "index",
                "valueString": "5"
              },
              {
                "url": "exValue",
                "valueString": "Supplementary report by Dr F Maclean:\nThe specimen jar has been examined and no residual tissue is apprarent.  Multiple deeper levels of the blocks have been examined and an additional small benign lymph node measuring less than 1mm in maximum dimension has been identified. There is no additional evidence of malignancy. The above synpotic has been amended to reflect the resence of this node."
              }
            ],
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-example"
          }
        ],
        "path": "Prostate.synthesisOverview.overarchingComment",
        "short": "Overarching comment",
        "definition": "Synthesis and overview overarching comment.",
        "requirements": "Conditional.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "logical",
            "map": "synthesis.related[type:='has-member'].target->Observation[code:=%map-codes; value[x] := $value]"
          },
          {
            "identity": "cap",
            "map": "28991.1000043"
          }
        ]
      }
    ]
  }
}