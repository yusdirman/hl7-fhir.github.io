{
  "@context": "http://hl7.org/fhir/jsonld/DecisionSupportRule",
  "resourceType": "DecisionSupportRule",
  "Resource.id": {
    "value": "decisionsupportrule-azathioprine-need-test"
  },
  "DomainResource.text": {
    "Narrative.status": {
      "value": "generated"
    },
    "Narrative.div": {
      "value": "<div xmlns=\"http://www.w3.org/1999/xhtml\">Azathioprine Myelotoxicity Intervention - Need Test</div>"
    }
  },
  "DecisionSupportRule.moduleMetadata": {
    "ModuleMetadata.identifier": [
      {
        "Identifier.use": {
          "value": "official"
        },
        "Identifier.value": {
          "value": "azathioprine-myelotoxicity-need-test"
        }
      }
    ],
    "ModuleMetadata.version": {
      "value": "1.0.0"
    },
    "ModuleMetadata.title": {
      "value": "Azathioprine Myelotoxicity Need Test"
    },
    "ModuleMetadata.type": {
      "value": "decision-support-rule"
    },
    "ModuleMetadata.status": {
      "value": "active"
    },
    "ModuleMetadata.description": {
      "value": "Azathioprine myelotoxicity intervention to alert the user that a TPMT genotype test should be administered."
    },
    "ModuleMetadata.publicationDate": {
      "value": "2016-04-01"
    },
    "ModuleMetadata.topic": [
      {
        "CodeableConcept.text": {
          "value": "Azathioprine Myelotoxicity - Need Test"
        }
      }
    ]
  },
  "DecisionSupportRule.library": [
    {
      "Reference.reference": {
        "value": "Library/library-azathioprine-myelotoxicity-cds-logic"
      }
    }
  ],
  "DecisionSupportRule.trigger": [
    {
      "TriggerDefinition.type": {
        "value": "data-added"
      },
      "TriggerDefinition.eventData": {
        "DataRequirement.type": {
          "value": "MedicationOrder"
        },
        "DataRequirement.codeFilter": [
          {
            "DataRequirement.codeFilter.path": {
              "value": "code"
            },
            "DataRequirement.codeFilter.valueCodeableConcept": [
              {
                "CodeableConcept.coding": [
                  {
                    "Coding.system": {
                      "value": "http://snomed.org/sct"
                    },
                    "Coding.code": {
                      "value": "372574004"
                    }
                  }
                ],
                "CodeableConcept.text": {
                  "value": "Azathioprine (substance)"
                }
              }
            ]
          }
        ]
      }
    }
  ],
  "DecisionSupportRule.condition": {
    "value": "Needs TPMT Test"
  },
  "DecisionSupportRule.action": [
    {
      "ActionDefinition.title": {
        "value": "Patient should be administered a TPMT Genotype Test."
      },
      "ActionDefinition.action": [
        {
          "ActionDefinition.title": {
            "value": "Create the TPMT Genotype Test."
          },
          "ActionDefinition.textEquivalent": {
            "value": "Administer a TPMT Genotype Test."
          },
          "ActionDefinition.participantType": [
            {
              "value": "practitioner"
            }
          ],
          "ActionDefinition.type": {
            "value": "create"
          },
          "ActionDefinition.customization": [
            {
              "ActionDefinition.customization.path": {
                "value": "/"
              },
              "ActionDefinition.customization.expression": {
                "value": "Create Diagnostic Order for TPMT Genotype Test"
              }
            }
          ]
        },
        {
          "ActionDefinition.title": {
            "value": "Notify the provider to sign the order."
          },
          "ActionDefinition.textEquivalent": {
            "value": "A TPMT Genotype Test is recommended, please authorize or reject the order."
          },
          "ActionDefinition.participantType": [
            {
              "value": "practitioner"
            }
          ],
          "ActionDefinition.type": {
            "value": "create"
          },
          "ActionDefinition.customization": [
            {
              "ActionDefinition.customization.path": {
                "value": "/"
              },
              "ActionDefinition.customization.expression": {
                "value": "Missing TPMT Test Alert"
              }
            }
          ]
        }
      ]
    }
  ]
}